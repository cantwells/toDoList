{"version":3,"sources":["components/Task.jsx","App.js","index.js"],"names":["Task","id","text","checked","onChangeInput","removeTask","error","className","type","onChange","HandleInputChange","htmlFor","onClick","App","useState","tasks","state","setState","value","setValue","setError","useEffect","allTasks","localStorage","getItem","JSON","parse","setItem","stringify","isCheckMarked","some","item","copyTasks","forEach","task","findTask","find","idx","indexOf","splice","console","log","onSubmit","event","preventDefault","newTask","Date","getTime","name","target","placeholder","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4MAoBeA,EApBF,SAAC,GAA6D,IAA3DC,EAA0D,EAA1DA,GAAIC,EAAsD,EAAtDA,KAAMC,EAAgD,EAAhDA,QAASC,EAAuC,EAAvCA,cAAeC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,MAI1D,OACI,qBAAIC,UAAS,mBAAeD,GAASH,EAAW,cAAgB,IAAhE,UACI,sBAAKI,UAAU,aAAf,UACA,uBAAOC,KAAK,WACJD,UAAU,iBACVN,GAAIA,EACJE,QAASA,EACTM,SAAU,kBAVA,SAAAR,GACtBG,EAAcH,GAScS,CAAkBT,MAE1C,uBAAOU,QAASV,EAAhB,SAAqBC,OAErB,sBAAMK,UAAU,QAAQK,QAAS,kBAAMP,EAAWJ,EAAIE,IAAtD,mBC4EGU,MAvFf,WACE,MAA0BC,mBAAS,CAAEC,MAAO,KAA5C,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA0BH,mBAAS,IAAnC,mBAAOI,EAAP,KAAcC,EAAd,KACA,EAA0BL,mBAAS,IAAnC,mBAAOR,EAAP,KAAcc,EAAd,KAEAC,qBAAW,WACT,IAAMC,EAAWC,aAAaC,QAAQ,YACnCF,GAAUL,EAAS,CAAEF,MAAOU,KAAKC,MAAMJ,OACzC,IAEHD,qBAAW,WACTE,aAAaI,QAAQ,WAAYF,KAAKG,UAAUZ,EAAMD,UACrD,CAACC,EAAMD,QAEV,IAeMc,EAAgB,kBAAMb,EAAMD,MAAMe,MAAK,SAAAC,GAAI,OAAIA,EAAK5B,YAEpDC,EAAgB,SAAAH,GACpB,IAAM+B,EAAS,YAAOhB,EAAMD,OAC5BiB,EAAUC,SAAS,SAAAC,GACdA,EAAKjC,KAAOA,IAAIiC,EAAK/B,SAAW+B,EAAK/B,YAE1Cc,EAAS,CAAEF,MAAOiB,KAGd3B,EAAa,SAACJ,EAAIE,GACtB,GAAIA,EAQFiB,EAAS,uFARC,CACV,IAAMY,EAAS,YAAOhB,EAAMD,OACtBoB,EAAWH,EAAUI,MAAM,SAAAF,GAAI,OAAIA,EAAKjC,KAAOA,KAC/CoC,EAAML,EAAUM,QAAQH,GAC9BH,EAAUO,OAAOF,EAAK,GACtBpB,EAAS,CAAEF,MAAOiB,IAClBZ,EAAS,MASb,OAHAoB,QAAQC,IAAIzB,GACZwB,QAAQC,IAAIZ,KACZW,QAAQC,IAAInC,GAEV,qBAAKC,UAAU,UAAf,SACI,sBAAKA,UAAU,OAAf,UACE,0CACA,uBAAMmC,SAzCG,SAAAC,GACfA,EAAMC,iBACN,IAAMC,EAAU,GAChBA,EAAQ5C,GAAR,eAAoB,IAAI6C,MAAOC,WAC/BF,EAAQ3C,KAAOgB,EACf2B,EAAQ1C,SAAU,EAClB0C,EAAQvC,MAAQA,EAChBW,EAAS,CAAEF,MAAM,GAAD,mBAAMC,EAAMD,OAAZ,CAAmB8B,MACnC1B,EAAS,KAiCH,UACI,uBAAOX,KAAK,OACJwC,KAAK,OACL9B,MAAOA,EACPT,SAjDC,SAAAkC,GACnBxB,EAASwB,EAAMM,OAAO/B,QAiDJgC,YAAY,mDACZ3C,UAAU,UAClB,wBAAQC,KAAK,SAASD,UAAU,MAAhC,iEAEJ,qBAAKA,UAAS,gBAAYD,GAASuB,KAAoB,SAAvD,SAAmEvB,IACnE,oBAAIC,UAAU,QAAd,SAEIS,EAAMD,MAAMoC,KAAK,SAAAjB,GAAI,OAAI,cAAC,EAAD,CACOjC,GAAIiC,EAAKjC,GACTC,KAAMgC,EAAKhC,KACXC,QAAS+B,EAAK/B,QACdC,cAAeA,EACfC,WAAYA,EACZC,MAAO4B,EAAK5B,OANR4B,EAAKjC,eCvEvDmD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.cdf28595.chunk.js","sourcesContent":["const Task = ({ id, text, checked, onChangeInput, removeTask, error }) => {\r\n    const HandleInputChange = id => {\r\n        onChangeInput(id);\r\n    }\r\n    return (\r\n        <li className={`itemTask ${(error && checked) ? ' item-error' : ''}`}>\r\n            <div className=\"inputBlock\">\r\n            <input type=\"checkbox\"\r\n                    className=\"customCheckbox\" \r\n                    id={id}\r\n                    checked={checked}\r\n                    onChange={() => HandleInputChange(id)}\r\n                    />\r\n            <label htmlFor={id}>{text}</label>\r\n            </div>\r\n            <span className=\"close\" onClick={() => removeTask(id, checked)}>x</span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Task;","import { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport Task from './components/Task';\r\n\r\nfunction App() {\r\n  const [state, setState] = useState({ tasks: [] });\r\n  const [value, setValue] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect( () => {\r\n    const allTasks = localStorage.getItem('toDoList');\r\n    if(allTasks) setState({ tasks: JSON.parse(allTasks)});\r\n  }, []);\r\n\r\n  useEffect( () => {\r\n    localStorage.setItem('toDoList', JSON.stringify(state.tasks) );\r\n  }, [state.tasks])\r\n\r\n  const handleChange = event => {\r\n    setValue(event.target.value);\r\n  }\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    const newTask = {}\r\n    newTask.id = `task${new Date().getTime()}`;\r\n    newTask.text = value;\r\n    newTask.checked = false;\r\n    newTask.error = error;\r\n    setState({ tasks: [...state.tasks, newTask]});\r\n    setValue('');\r\n  }\r\n\r\n  const isCheckMarked = () => state.tasks.some(item => item.checked);\r\n  \r\n  const onChangeInput = id => {\r\n    const copyTasks = [...state.tasks];\r\n    copyTasks.forEach( task => {\r\n      if(task.id === id) task.checked = !task.checked; \r\n    })\r\n    setState({ tasks: copyTasks});\r\n  }\r\n  \r\n  const removeTask = (id, checked) => {\r\n    if(!checked){\r\n      const copyTasks = [...state.tasks];\r\n      const findTask = copyTasks.find( task => task.id === id);\r\n      const idx = copyTasks.indexOf(findTask);\r\n      copyTasks.splice(idx, 1);\r\n      setState({ tasks: copyTasks});\r\n      setError('');\r\n    }else {\r\n      setError('Нельзя удалить');\r\n    }\r\n  }\r\n\r\n  console.log(state);\r\n  console.log(isCheckMarked());\r\n  console.log(error);\r\n  return (\r\n    <div className=\"wrapper\">\r\n        <div className=\"main\">\r\n          <h1>toDoList</h1>    \r\n          <form onSubmit={onSubmit}>\r\n              <input type=\"text\" \r\n                      name=\"task\" \r\n                      value={value}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Описание\" \r\n                      className=\"field\"/>\r\n              <button type=\"submit\" className=\"btn\">Добавить</button>\r\n          </form>\r\n          <div className={`error ${(error && isCheckMarked()) && ' show'}`}>{error}</div>\r\n          <ul className=\"items\">\r\n            {\r\n              state.tasks.map( task => <Task key={task.id} \r\n                                              id={task.id} \r\n                                              text={task.text} \r\n                                              checked={task.checked}\r\n                                              onChangeInput={onChangeInput}\r\n                                              removeTask={removeTask}\r\n                                              error={task.error}\r\n                                              /> )\r\n            }\r\n            \r\n          </ul>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}